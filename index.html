<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Lyrics Presenter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Menu Styles */
        .menu-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 40px;
        }

        .menu-title {
            font-size: 3rem;
            margin-bottom: 30px;
            font-weight: 300;
            letter-spacing: 3px;
            opacity: 0.8;
        }

        .song-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 800px;
            margin-bottom: 30px;
        }

        .song-button {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 30px;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            text-align: center;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .song-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        .song-button .song-name {
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: 400;
        }

        .song-button .song-info {
            font-size: 0.9rem;
            opacity: 0.6;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 0, 0, 0.3);
            border: 1px solid rgba(255, 0, 0, 0.5);
            color: #fff;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .song-button:hover .delete-btn {
            opacity: 1;
        }

        .delete-btn:hover {
            background: rgba(255, 0, 0, 0.5);
        }

        .add-song-btn {
            background-color: rgba(0, 255, 0, 0.1);
            border: 2px dashed rgba(0, 255, 0, 0.3);
            color: #fff;
            padding: 30px;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            text-align: center;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .add-song-btn:hover {
            background-color: rgba(0, 255, 0, 0.2);
            transform: translateY(-5px);
        }

        .add-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        /* Presentation Styles */
        .presentation-container {
            display: none;
            flex-direction: column;
            height: 100vh;
        }

        .presentation-container.active {
            display: flex;
        }

        .slide-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px;
            position: relative;
        }

        .slide {
            text-align: center;
            max-width: 90%;
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.5s ease;
            position: absolute;
            width: 100%;
        }

        .slide.active {
            opacity: 1;
            transform: scale(1);
        }

        .slide h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            font-weight: 300;
            letter-spacing: 2px;
            opacity: 0.9;
        }

        .slide .lyrics {
            font-size: 2rem;
            line-height: 1.9;
            font-weight: 300;
            white-space: pre-line;
            opacity: 0.95;
        }

        /* Controls */
        .controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 100;
            opacity: 0.4;
            transition: opacity 0.3s ease;
        }

        .controls:hover {
            opacity: 1;
        }

        .control-btn {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 15px 30px;
            cursor: pointer;
            border-radius: 30px;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            min-width: 120px;
        }

        .control-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        /* Info Bar */
        .info-bar {
            position: fixed;
            top: 30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 40px;
            z-index: 50;
        }

        .song-title {
            font-size: 1.2rem;
            opacity: 0.7;
            font-weight: 300;
        }

        .slide-counter {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }

        .back-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 25px;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 101;
        }

        .back-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Help Text */
        .help-text {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0.3;
            text-align: center;
        }

        /* Add Song Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: #111;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal h2 {
            margin-bottom: 20px;
            font-weight: 300;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            opacity: 0.8;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            font-size: 16px;
            font-family: 'Arial', sans-serif;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .slides-container {
            margin-top: 20px;
        }

        .slide-input {
            background-color: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .slide-input h4 {
            margin-bottom: 10px;
            font-weight: 400;
            opacity: 0.8;
        }

        .remove-slide {
            background: rgba(255, 0, 0, 0.2);
            border: 1px solid rgba(255, 0, 0, 0.4);
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            float: right;
        }

        .remove-slide:hover {
            background: rgba(255, 0, 0, 0.3);
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-buttons button {
            flex: 1;
            padding: 12px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .modal-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .modal-buttons .primary {
            background-color: rgba(0, 255, 0, 0.2);
            border-color: rgba(0, 255, 0, 0.4);
        }

        .modal-buttons .primary:hover {
            background-color: rgba(0, 255, 0, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-title {
                font-size: 2rem;
            }
            
            .slide h2 {
                font-size: 1.8rem;
            }
            
            .slide .lyrics {
                font-size: 1.5rem;
            }
            
            .controls {
                bottom: 20px;
                gap: 10px;
            }
            
            .control-btn {
                padding: 12px 20px;
                font-size: 14px;
                min-width: 100px;
            }
            
            .song-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Song Selection Menu -->
    <div class="menu-container" id="menuContainer">
        <h1 class="menu-title">Select a Song</h1>
        <div class="song-list" id="songList">
            <!-- Song buttons will be generated here -->
        </div>
        <button class="add-song-btn" onclick="openAddSongModal()">
            <div class="add-icon">+</div>
            <div>Add New Song</div>
        </button>
    </div>

    <!-- Presentation Container -->
    <div class="presentation-container" id="presentationContainer">
        <button class="back-btn" onclick="backToMenu()">← Back to Menu</button>
        
        <div class="info-bar">
            <div class="song-title" id="currentSongTitle"></div>
            <div class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">1</span>
            </div>
        </div>

        <div class="slide-container" id="slideContainer">
            <!-- Slides will be dynamically inserted here -->
        </div>

        <div class="controls">
            <button class="control-btn" onclick="previousSlide()">← Previous</button>
            <button class="control-btn" onclick="nextSlide()">Next →</button>
        </div>

        <div class="help-text">
            Use arrow keys or space bar to navigate
        </div>
    </div>

    <!-- Add Song Modal -->
    <div class="modal" id="addSongModal">
        <div class="modal-content">
            <h2>Add New Song</h2>
            <form id="addSongForm">
                <div class="form-group">
                    <label for="songTitle">Song Title</label>
                    <input type="text" id="songTitle" required>
                </div>
                <div class="form-group">
                    <label for="songAuthor">Author</label>
                    <input type="text" id="songAuthor" required>
                </div>
                
                <div class="slides-container">
                    <h3>Slides</h3>
                    <div id="slidesList">
                        <!-- Slide inputs will be added here -->
                    </div>
                    <button type="button" onclick="addSlideInput()" style="background: rgba(0,255,0,0.1); border: 1px dashed rgba(0,255,0,0.3); color: #fff; padding: 10px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px;">
                        + Add Slide
                    </button>
                </div>
                
                <div class="modal-buttons">
                    <button type="button" onclick="closeAddSongModal()">Cancel</button>
                    <button type="submit" class="primary">Save Song</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Song database - now loaded from localStorage or defaults
        let songs = [
            {
                title: "Amazing Grace",
                author: "John Newton",
                slides: [
                    {
                        title: "Verse 1",
                        lyrics: "Amazing grace, how sweet the sound\nThat saved a wretch like me\nI once was lost, but now am found\nWas blind, but now I see"
                    },
                    {
                        title: "Verse 2",
                        lyrics: "'Twas grace that taught my heart to fear\nAnd grace my fears relieved\nHow precious did that grace appear\nThe hour I first believed"
                    },
                    {
                        title: "Verse 3",
                        lyrics: "Through many dangers, toils and snares\nI have already come\n'Tis grace has brought me safe thus far\nAnd grace will lead me home"
                    },
                    {
                        title: "Verse 4",
                        lyrics: "When we've been there ten thousand years\nBright shining as the sun\nWe've no less days to sing God's praise\nThan when we've first begun"
                    }
                ]
            },
            {
                title: "How Great Thou Art",
                author: "Carl Boberg",
                slides: [
                    {
                        title: "Verse 1",
                        lyrics: "O Lord my God, when I in awesome wonder\nConsider all the works Thy hands have made\nI see the stars, I hear the rolling thunder\nThy power throughout the universe displayed"
                    },
                    {
                        title: "Chorus",
                        lyrics: "Then sings my soul, my Savior God, to Thee\nHow great Thou art, how great Thou art\nThen sings my soul, my Savior God, to Thee\nHow great Thou art, how great Thou art"
                    },
                    {
                        title: "Verse 2",
                        lyrics: "When through the woods and forest glades I wander\nAnd hear the birds sing sweetly in the trees\nWhen I look down from lofty mountain grandeur\nAnd hear the brook and feel the gentle breeze"
                    }
                ]
            },
            {
                title: "Blessed Assurance",
                author: "Fanny Crosby",
                slides: [
                    {
                        title: "Verse 1",
                        lyrics: "Blessed assurance, Jesus is mine\nO what a foretaste of glory divine\nHeir of salvation, purchase of God\nBorn of His Spirit, washed in His blood"
                    },
                    {
                        title: "Chorus",
                        lyrics: "This is my story, this is my song\nPraising my Savior all the day long\nThis is my story, this is my song\nPraising my Savior all the day long"
                    },
                    {
                        title: "Verse 2",
                        lyrics: "Perfect submission, all is at rest\nI in my Savior am happy and blessed\nWatching and waiting, looking above\nFilled with His goodness, lost in His love"
                    }
                ]
            },
            {
                title: "It Is Well",
                author: "Horatio Spafford",
                slides: [
                    {
                        title: "Verse 1",
                        lyrics: "When peace like a river, attendeth my way\nWhen sorrows like sea billows roll\nWhatever my lot, thou hast taught me to say\nIt is well, it is well, with my soul"
                    },
                    {
                        title: "Chorus",
                        lyrics: "It is well\nWith my soul\nIt is well, it is well, with my soul"
                    },
                    {
                        title: "Verse 2",
                        lyrics: "Though Satan should buffet, though trials should come\nLet this blest assurance control\nThat Christ has regarded my helpless estate\nAnd hath shed His own blood for my soul"
                    }
                ]
            }
        ];

        let currentSong = null;
        let currentSlideIndex = 0;
        let slideInputCount = 0;

        // Load songs from localStorage
        function loadSongs() {
            const savedSongs = localStorage.getItem('lyricsPresenterSongs');
            if (savedSongs) {
                songs = JSON.parse(savedSongs);
            }
        }

        // Save songs to localStorage
        function saveSongs() {
            localStorage.setItem('lyricsPresenterSongs', JSON.stringify(songs));
        }

        // Initialize
        function init() {
            loadSongs();
            renderSongMenu();
        }

        // Render song selection menu
        function renderSongMenu() {
            const songList = document.getElementById('songList');
            songList.innerHTML = '';
            
            songs.forEach((song, index) => {
                const button = document.createElement('div');
                button.className = 'song-button';
                button.innerHTML = `
                    <div class="song-name">${song.title}</div>
                    <div class="song-info">${song.author} • ${song.slides.length} slides</div>
                    <button class="delete-btn" onclick="deleteSong(${index})" title="Delete song">×</button>
                `;
                button.onclick = (e) => {
                    if (!e.target.classList.contains('delete-btn')) {
                        startPresentation(index);
                    }
                };
                songList.appendChild(button);
            });
        }

        // Delete a song
        function deleteSong(index) {
            if (confirm(`Are you sure you want to delete "${songs[index].title}"?`)) {
                songs.splice(index, 1);
                saveSongs();
                renderSongMenu();
            }
        }

        // Start presentation for selected song
        function startPresentation(songIndex) {
            currentSong = songs[songIndex];
            currentSlideIndex = 0;
            
            document.getElementById('menuContainer').style.display = 'none';
            document.getElementById('presentationContainer').classList.add('active');
            
            document.getElementById('currentSongTitle').textContent = currentSong.title;
            
            renderSlides();
            showSlide(0);
        }

        // Render all slides for current song
        function renderSlides() {
            const container = document.getElementById('slideContainer');
            container.innerHTML = '';
            
            currentSong.slides.forEach((slide, index) => {
                const slideElement = document.createElement('div');
                slideElement.className = 'slide';
                slideElement.innerHTML = `
                    <h2>${slide.title}</h2>
                    <div class="lyrics">${slide.lyrics}</div>
                `;
                container.appendChild(slideElement);
            });
            
            updateSlideCounter();
        }

        // Show specific slide
        function showSlide(index) {
            const slideElements = document.querySelectorAll('.slide');
            slideElements.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            currentSlideIndex = index;
            updateSlideCounter();
        }

        // Navigate to next slide
        function nextSlide() {
            if (currentSlideIndex < currentSong.slides.length - 1) {
                showSlide(currentSlideIndex + 1);
            }
        }

        // Navigate to previous slide
        function previousSlide() {
            if (currentSlideIndex > 0) {
                showSlide(currentSlideIndex - 1);
            }
        }

        // Update slide counter
        function updateSlideCounter() {
            document.getElementById('currentSlide').textContent = currentSlideIndex + 1;
            document.getElementById('totalSlides').textContent = currentSong.slides.length;
        }

        // Back to menu
        function backToMenu() {
            document.getElementById('presentationContainer').classList.remove('active');
            document.getElementById('menuContainer').style.display = 'flex';
            currentSong = null;
        }

        // Modal functions
        function openAddSongModal() {
            document.getElementById('addSongModal').classList.add('active');
            document.getElementById('songTitle').value = '';
            document.getElementById('songAuthor').value = '';
            document.getElementById('slidesList').innerHTML = '';
            slideInputCount = 0;
            addSlideInput(); // Add first slide input
        }

        function closeAddSongModal() {
            document.getElementById('addSongModal').classList.remove('active');
        }

        function addSlideInput() {
            slideInputCount++;
            const slidesList = document.getElementById('slidesList');
            const slideDiv = document.createElement('div');
            slideDiv.className = 'slide-input';
            slideDiv.innerHTML = `
                <h4>Slide ${slideInputCount} <button type="button" class="remove-slide" onclick="removeSlideInput(this)">Remove</button></h4>
                <div class="form-group">
                    <label>Slide Title (e.g., Verse 1, Chorus)</label>
                    <input type="text" class="slide-title" required>
                </div>
                <div class="form-group">
                    <label>Lyrics (use \\n for line breaks)</label>
                    <textarea class="slide-lyrics" required></textarea>
                </div>
            `;
            slidesList.appendChild(slideDiv);
        }

        function removeSlideInput(button) {
            button.closest('.slide-input').remove();
        }

        // Handle form submission
        document.getElementById('addSongForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('songTitle').value;
            const author = document.getElementById('songAuthor').value;
            const slideInputs = document.querySelectorAll('.slide-input');
            
            const newSong = {
                title: title,
                author: author,
                slides: []
            };
            
            slideInputs.forEach(input => {
                const slideTitle = input.querySelector('.slide-title').value;
                const slideLyrics = input.querySelector('.slide-lyrics').value;
                
                if (slideTitle && slideLyrics) {
                    newSong.slides.push({
                        title: slideTitle,
                        lyrics: slideLyrics.replace(/\\n/g, '\n')
                    });
                }
            });
            
            if (newSong.slides.length > 0) {
                songs.push(newSong);
                saveSongs();
                renderSongMenu();
                closeAddSongModal();
            } else {
                alert('Please add at least one slide with lyrics.');
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (!currentSong) return; // Only in presentation mode
            
            switch(e.key) {
                case 'ArrowRight':
                case ' ':
                    e.preventDefault();
                    nextSlide();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    previousSlide();
                    break;
                case 'Escape':
                    backToMenu();
                    break;
            }
        });

        // Initialize the app
        init();
    </script>
</body>
</html>
